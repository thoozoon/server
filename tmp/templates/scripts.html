<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/htmx.org@1.9.12"></script>
<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

<script>
    // Enhanced Tailwind CSS configuration with typography plugin simulation
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    brand: {
                        50: "#eff6ff",
                        100: "#dbeafe",
                        200: "#bfdbfe",
                        300: "#93c5fd",
                        400: "#60a5fa",
                        500: "#3b82f6",
                        600: "#2563eb",
                        700: "#1d4ed8",
                        800: "#1e40af",
                        900: "#1e3a8a",
                        950: "#172554",
                    },
                    accent: {
                        50: "#fef7ff",
                        100: "#fdeeff",
                        200: "#fad5ff",
                        300: "#f7b1ff",
                        400: "#f280ff",
                        500: "#e954ee",
                        600: "#d332d9",
                        700: "#b025b8",
                        800: "#902297",
                        900: "#751f7a",
                    },
                },
                fontFamily: {
                    sans: ["Inter", "system-ui", "-apple-system", "sans-serif"],
                    mono: ["JetBrains Mono", "Fira Code", "monospace"],
                },
                animation: {
                    "fade-in": "fadeIn 0.5s ease-in-out",
                    "slide-up": "slideUp 0.3s ease-out",
                    "pulse-slow": "pulse 3s infinite",
                    float: "float 6s ease-in-out infinite",
                },
                keyframes: {
                    fadeIn: {
                        "0%": { opacity: "0", transform: "translateY(10px)" },
                        "100%": { opacity: "1", transform: "translateY(0)" },
                    },
                    slideUp: {
                        "0%": { opacity: "0", transform: "translateY(20px)" },
                        "100%": { opacity: "1", transform: "translateY(0)" },
                    },
                    float: {
                        "0%, 100%": { transform: "translateY(0px)" },
                        "50%": { transform: "translateY(-10px)" },
                    },
                },
                boxShadow: {
                    glow: "0 0 20px -5px rgba(59, 130, 246, 0.5)",
                    "glow-lg": "0 0 40px -10px rgba(59, 130, 246, 0.4)",
                    "inner-glow": "inset 0 2px 4px 0 rgba(255, 255, 255, 0.1)",
                },
                backdropBlur: {
                    xs: "2px",
                },
            },
        },
        plugins: [],
    };

    // Add Tailwind Typography styles manually since CDN doesn't support plugins
    const proseStyles = `
        .prose {
            color: #374151;
            max-width: 65ch;
            line-height: 1.75;
            font-size: 1rem;
        }

        .prose-slate {
            --tw-prose-body: #334155;
            --tw-prose-headings: #0f172a;
            --tw-prose-links: #2563eb;
            --tw-prose-bold: #0f172a;
            --tw-prose-code: #111827;
            --tw-prose-pre-code: #e5e7eb;
            --tw-prose-pre-bg: #1e293b;
            --tw-prose-quotes: #111827;
            --tw-prose-quote-borders: #e5e7eb;
        }

        .prose-lg {
            font-size: 1.125rem;
            line-height: 1.7777778;
        }

        .prose h1 {
            color: var(--tw-prose-headings, #111827);
            font-weight: 800;
            font-size: 2.25em;
            margin-top: 0;
            margin-bottom: 0.8888889em;
            line-height: 1.1111111;
        }

        .prose h2 {
            color: var(--tw-prose-headings, #111827);
            font-weight: 700;
            font-size: 1.5em;
            margin-top: 2em;
            margin-bottom: 1em;
            line-height: 1.3333333;
        }

        .prose h3 {
            color: var(--tw-prose-headings, #111827);
            font-weight: 600;
            font-size: 1.25em;
            margin-top: 1.6em;
            margin-bottom: 0.6em;
            line-height: 1.6;
        }

        .prose h4 {
            color: var(--tw-prose-headings, #111827);
            font-weight: 600;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            line-height: 1.5;
        }

        .prose h5, .prose h6 {
            color: var(--tw-prose-headings, #111827);
            font-weight: 600;
            margin-top: 1.25em;
            margin-bottom: 0.5em;
            line-height: 1.5;
        }

        .prose p {
            margin-top: 1.25em;
            margin-bottom: 1.25em;
            color: var(--tw-prose-body, #374151);
        }

        .prose a {
            color: var(--tw-prose-links, #2563eb);
            text-decoration: underline;
            font-weight: 500;
            text-underline-offset: 2px;
            transition: color 0.2s ease;
        }

        .prose a:hover {
            color: #1d4ed8;
        }

        .prose strong {
            color: var(--tw-prose-bold, #111827);
            font-weight: 600;
        }

        .prose ul, .prose ol {
            margin-top: 1.25em;
            margin-bottom: 1.25em;
            padding-left: 1.625em;
        }

        .prose li {
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }

        .prose code {
            color: var(--tw-prose-code, #111827);
            font-weight: 600;
            font-size: 0.875em;
            background-color: #f1f5f9;
            border-radius: 0.375rem;
            padding: 0.125rem 0.375rem;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
        }

        .prose pre {
            color: var(--tw-prose-pre-code, #e5e7eb);
            background-color: var(--tw-prose-pre-bg, #1e293b);
            overflow-x: auto;
            font-weight: 400;
            font-size: 0.875em;
            line-height: 1.7142857;
            margin-top: 1.7142857em;
            margin-bottom: 1.7142857em;
            border-radius: 0.375rem;
            padding: 0.8571429em 1.1428571em;
        }

        .prose pre code {
            background-color: transparent;
            border-width: 0;
            border-radius: 0;
            padding: 0;
            font-weight: inherit;
            color: inherit;
            font-size: inherit;
            font-family: inherit;
            line-height: inherit;
        }

        .prose blockquote {
            font-weight: 500;
            font-style: italic;
            color: var(--tw-prose-quotes, #111827);
            border-left-width: 0.25rem;
            border-left-color: var(--tw-prose-quote-borders, #e5e7eb);
            margin-top: 1.6em;
            margin-bottom: 1.6em;
            padding-left: 1em;
            background-color: #f8fafc;
            padding-top: 1em;
            padding-bottom: 1em;
            border-radius: 0 0.375rem 0.375rem 0;
        }

        .prose table {
            width: 100%;
            table-layout: auto;
            text-align: left;
            margin-top: 2em;
            margin-bottom: 2em;
            font-size: 0.875em;
            line-height: 1.7142857;
            border-collapse: collapse;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .prose thead {
            background-color: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .prose thead th {
            color: var(--tw-prose-headings, #111827);
            font-weight: 600;
            vertical-align: bottom;
            padding: 0.5714286em;
            border-right: 1px solid #e2e8f0;
        }

        .prose thead th:last-child {
            border-right: none;
        }

        .prose tbody td {
            vertical-align: baseline;
            padding: 0.5714286em;
            border-right: 1px solid #f1f5f9;
        }

        .prose tbody td:last-child {
            border-right: none;
        }

        .prose tbody tr {
            border-bottom: 1px solid #f1f5f9;
        }

        .prose tbody tr:hover {
            background-color: #f8fafc;
        }

        .prose img {
            margin-top: 2em;
            margin-bottom: 2em;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .prose hr {
            border: none;
            height: 1px;
            background: linear-gradient(90deg, transparent, #cbd5e1, transparent);
            margin: 3em 0;
        }

        .max-w-none {
            max-width: none;
        }
    `;

    // Inject the prose styles
    const styleSheet = document.createElement("style");
    styleSheet.type = "text/css";
    styleSheet.innerText = proseStyles;
    document.head.appendChild(styleSheet);

    // HTMX configuration
    htmx.config.globalViewTransitions = true;
    htmx.config.scrollBehavior = "smooth";
    htmx.config.defaultSwapStyle = "innerHTML";
    htmx.config.responseHandling = [
        { code: "204", swap: false },
        { code: "[23].+", swap: true },
        { code: "[45].+", swap: false, error: true },
    ];
</script>
